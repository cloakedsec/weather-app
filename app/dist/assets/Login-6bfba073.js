import{s as W,_ as h,e as D,f as P,g as z,h as w,i as B,k as R,l as j,j as l,a as r,S as m,m as $,c as F,L as b,T as C,b as f,C as H}from"./index-cf5ddd83.js";import{r as p,a as N,u as E}from"./react-41902055.js";import{A,T as L}from"./TextField-878fa496.js";import"./firebase-be54f6dd.js";const O=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],V=e=>{const{absolute:t,children:i,classes:o,flexItem:a,light:n,orientation:c,textAlign:s,variant:g}=e;return R({root:["root",t&&"absolute",g,n&&"light",c==="vertical"&&"vertical",a&&"flexItem",i&&"withChildren",i&&c==="vertical"&&"withChildrenVertical",s==="right"&&c!=="vertical"&&"textAlignRight",s==="left"&&c!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",c==="vertical"&&"wrapperVertical"]},j,o)},U=W("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.root,i.absolute&&t.absolute,t[i.variant],i.light&&t.light,i.orientation==="vertical"&&t.vertical,i.flexItem&&t.flexItem,i.children&&t.withChildren,i.children&&i.orientation==="vertical"&&t.withChildrenVertical,i.textAlign==="right"&&i.orientation!=="vertical"&&t.textAlignRight,i.textAlign==="left"&&i.orientation!=="vertical"&&t.textAlignLeft]}})(({theme:e,ownerState:t})=>h({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(e.vars||e).palette.divider,borderBottomWidth:"thin"},t.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},t.light&&{borderColor:e.vars?`rgba(${e.vars.palette.dividerChannel} / 0.08)`:D(e.palette.divider,.08)},t.variant==="inset"&&{marginLeft:72},t.variant==="middle"&&t.orientation==="horizontal"&&{marginLeft:e.spacing(2),marginRight:e.spacing(2)},t.variant==="middle"&&t.orientation==="vertical"&&{marginTop:e.spacing(1),marginBottom:e.spacing(1)},t.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},t.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:e})=>h({},e.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:e,ownerState:t})=>h({},t.children&&t.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(e.vars||e).palette.divider}`}}),({theme:e,ownerState:t})=>h({},t.children&&t.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(e.vars||e).palette.divider}`}}),({ownerState:e})=>h({},e.textAlign==="right"&&e.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},e.textAlign==="left"&&e.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),_=W("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:i}=e;return[t.wrapper,i.orientation==="vertical"&&t.wrapperVertical]}})(({theme:e,ownerState:t})=>h({display:"inline-block",paddingLeft:`calc(${e.spacing(1)} * 1.2)`,paddingRight:`calc(${e.spacing(1)} * 1.2)`},t.orientation==="vertical"&&{paddingTop:`calc(${e.spacing(1)} * 1.2)`,paddingBottom:`calc(${e.spacing(1)} * 1.2)`})),I=p.forwardRef(function(t,i){const o=P({props:t,name:"MuiDivider"}),{absolute:a=!1,children:n,className:c,component:s=n?"div":"hr",flexItem:g=!1,light:d=!1,orientation:u="horizontal",role:k=s!=="hr"?"separator":void 0,textAlign:S="center",variant:M="fullWidth"}=o,T=z(o,O),v=h({},o,{absolute:a,component:s,flexItem:g,light:d,orientation:u,role:k,textAlign:S,variant:M}),y=V(v);return w.jsx(U,h({as:s,className:B(y.root,c),role:k,ref:i,ownerState:v},T,{children:n?w.jsx(_,{className:y.wrapper,ownerState:v,children:n}):null}))});I.muiSkipListHighlight=!0;const G=I;function x(e){const{variant:t,...i}=e;return t==="apple.com"?l(m,{role:"img",viewBox:"0 0 24 24",...i,children:[r("title",{children:"Apple"}),r("path",{fill:"#000",d:"M14.94,5.19A4.38,4.38,0,0,0,16,2,4.44,4.44,0,0,0,13,3.52,4.17,4.17,0,0,0,12,6.61,3.69,3.69,0,0,0,14.94,5.19Zm2.52,7.44a4.51,4.51,0,0,1,2.16-3.81,4.66,4.66,0,0,0-3.66-2c-1.56-.16-3,.91-3.83.91s-2-.89-3.3-.87A4.92,4.92,0,0,0,4.69,9.39C2.93,12.45,4.24,17,6,19.47,6.8,20.68,7.8,22.05,9.12,22s1.75-.82,3.28-.82,2,.82,3.3.79,2.22-1.24,3.06-2.45a11,11,0,0,0,1.38-2.85A4.41,4.41,0,0,1,17.46,12.63Z"})]}):t==="google.com"?l(m,{role:"img",viewBox:"0 0 48 48",...i,children:[r("title",{children:"Google"}),l("g",{children:[r("path",{fill:"#EA4335",d:"M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z"}),r("path",{fill:"#4285F4",d:"M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z"}),r("path",{fill:"#FBBC05",d:"M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z"}),r("path",{fill:"#34A853",d:"M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z"}),r("path",{fill:"none",d:"M0 0h48v48H0z"})]})]}):t==="facebook.com"?l(m,{role:"img",viewBox:"0 0 24 24",...i,children:[r("title",{children:"Facebook"}),r("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})]}):l(m,{role:"img",viewBox:"0 0 32 32",...i,children:[r("title",{children:"Anonymous"}),r("circle",{fill:"none",stroke:"#999",cx:"16",cy:"16",r:"14",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10}),r("circle",{fill:"none",stroke:"#999",cx:"16",cy:"13",r:"5",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10}),r("path",{fill:"none",stroke:"#999",d:"M5.4 25.1c1.8-4.1 5.8-7 10.6-7s8.9 2.9 10.6 7",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:10})]})}function q(e){const[t,i]=p.useState(!1);return[p.useCallback(async o=>{o.preventDefault();try{throw i(!0),console.log(e.email),await new Promise(a=>setTimeout(a,1e3)),new Error("Not implemented")}finally{i(!1)}},[e.email]),t]}function Z(){return p.useState({email:"",code:"",saml:!1,otpSent:void 0,error:void 0})}function Y(e){return p.useCallback(function(t){const{name:i,value:o}=t.target;e(a=>a[i]===o?a:{...a,[i]:o})},[e])}function J(e){return p.useCallback(t=>{t.preventDefault(),e(i=>({...i,saml:!i.saml,otpSent:!1,code:""}))},[e])}function K(e){const t=N();return p.useCallback(async function(i){try{const o=i.currentTarget.dataset.method;(await $({method:o})).user&&(e(n=>n.error?{...n,error:null}:n),t("/"))}catch(o){const a=(o==null?void 0:o.message)??"Login failed.";e(n=>({...n,error:a}))}},[t,e])}function Q(e){const{sx:t,...i}=e;return l(C,{sx:{color:"text.secondary","& span":{opacity:.6},"& a":{fontWeight:500,opacity:.7},"& a:hover":{opacity:1},...t},variant:"body2",...i,children:[l("span",{children:["By clicking Continue above, your acknowledge that your have read and understood, and agree to ",F.app.name,"'s"]})," ",r(b,{color:"inherit",href:"/terms",children:"Terms & Conditions"}),r("span",{children:" and "}),r(b,{color:"inherit",href:"/privacy",children:"Privacy Policy"}),r("span",{children:"."})]})}function X(){const[e,t]=Z(),i=Y(t),o=K(t),[a,n]=q(e),c=J(t),{pathname:s,search:g}=E(),d=s==="/signup";return l(H,{maxWidth:"xs",sx:{display:"flex",flexDirection:"column",justifyContent:"center",gap:"1rem",flexGrow:.8},children:[r(C,{sx:{mb:2,fontWeight:800,order:-3},variant:"h1",align:"center",children:d?"Sign Up":"Login"}),e.error&&r(A,{sx:{mb:2,order:-2},severity:"error",children:e.error}),e.otpSent&&r(A,{sx:{mb:2},severity:"success",children:"Please enter the One Time Password (OTP) that has been sent to your email address."}),r("form",{id:"login-form",onSubmit:a,children:e.otpSent?r(L,{name:"code",variant:"outlined",label:"OTP code",placeholder:"Enter OTP code...",InputLabelProps:{shrink:!0},InputProps:{sx:{fontWeight:700}},onChange:i,disabled:n,autoComplete:"off",autoFocus:!0,fullWidth:!0,required:!0},"code"):r(L,{name:"email",type:"email",variant:"outlined",label:"Work email",placeholder:"Enter your email address...",InputLabelProps:{shrink:!0},onChange:i,disabled:n,fullWidth:!0,required:!0},"email")}),r(f,{color:"inherit",form:"login-form",type:"submit",variant:"outlined",size:"large",children:e.otpSent?"Sign In":`Continue with ${e.saml?"SAML":"Email"}`,disabled:n,fullWidth:!0}),l(C,{sx:{color:"text.secondary"},variant:"body2",align:"center",children:["You can also"," ",l(b,{sx:{":hover":{color:"text.primary"}},color:"inherit",href:`${s}${g}`,onClick:c,children:["continue with ",e.saml?"email":"SAML SSO"]})]}),r(G,{sx:{color:"divider",order:d?void 0:-1},children:"OR"}),r(f,{sx:{backgroundColor:u=>u.palette.mode==="light"?"white":void 0,order:d?void 0:-2},color:"inherit",type:"submit",variant:"outlined",size:"large",children:"Continue with Google",startIcon:r(x,{variant:"google.com"}),onClick:o,"data-method":"google.com",fullWidth:!0}),r(f,{sx:{backgroundColor:u=>u.palette.mode==="light"?"white":void 0,order:d?void 0:-2},color:"inherit",type:"submit",variant:"outlined",size:"large",children:"Continue with Apple",startIcon:r(x,{variant:"apple.com"}),onClick:o,"data-method":"apple.com",fullWidth:!0}),r(f,{sx:{backgroundColor:u=>u.palette.mode==="light"?"white":void 0,order:d?void 0:-2},color:"inherit",type:"submit",variant:"outlined",size:"large",children:"Continue as anonymous",startIcon:r(x,{color:"inherit",variant:"anonymous"}),onClick:o,"data-method":"anonymous",fullWidth:!0}),r(Q,{sx:{mt:4}})]})}X.displayName="Login";export{X as Component};
